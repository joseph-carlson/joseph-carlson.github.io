<!DOCTYPE html>
<html lang="en">
    <head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" href="/css/style.css">

        <title>Proxmox VE</title>
    </head>
    <body><div id="header">
    <h1 class="title">
        <a href="/">
            <p>Joseph&nbsp;</p>
            <p>Carlson</p>
        </a>
    </h1>
    <span><a href="/"><img src="/logo.ico" alt="Logo" height="75" id="logo"></a>
    </span>
    <span><h3 id="headerCategories"><a href="/case-studies/">case-studies</a>&nbsp;&nbsp;</h3><h3 id="headerCategories"><a href="/projects/">projects</a>&nbsp;&nbsp;</h3><h3 id="headerCategories"><a href="/interesting-stuff/">interesting-stuff</a>&nbsp;&nbsp;</h3></span>
</div><hr>

        <div id="narrowOnDesktop"><div class="sticky">
    <div id="breadcrumbs">
        <h3>~</h3><h3 class="breadcrumbPages">&nbsp;/&nbsp;<a href="/">Root</a></h3><h3 class="breadcrumbPages">&nbsp;/&nbsp;<a href="/projects/">Projects</a></h3><h3 class="breadcrumbPages">&nbsp;/&nbsp;<a href="/projects/homelab/">Home Lab</a></h3><h3 class="breadcrumbPages">&nbsp;/&nbsp;<a href="/projects/homelab/proxmox-ve/">Proxmox VE</a></h3></div>
    <hr>
</div><div id="postBanner"><br>
    Page content loading...&nbsp;<a href="/tags/all/">#all&nbsp;</a><a href="/tags/homelab/">#homelab&nbsp;</a><h3 id="stage-3-proxmox-virtual-environment">Stage 3: Proxmox Virtual Environment</h3>
<p>Hosted on my Framework 13 Laptop</p>
<ol>
<li>Create Proxmox VE Installer using Rufus</li>
<li>Boot to Proxmox VE USB</li>
<li>Accept the EULA</li>
<li>Select disk and confirm format (ext4)</li>
<li>Select Country, Time zone, and Keyboard layout</li>
<li>Create root password and enter email</li>
<li>A few more selections:</li>
</ol>
<ul>
<li>Select the management interface</li>
<li>FQDN: pve.localdomain
<ul>
<li>Later changed to pve.home.arpa</li>
</ul>
</li>
<li>IP Address (CIDR): 192.168.1.3 /24
<ul>
<li>Will later be changed to a non-standard IP range to avoid conflicts</li>
</ul>
</li>
</ul>
<p>** DHCP Range 192.168.1.10 - 192.168.1.245 **</p>
<ol start="8">
<li>Click next and install</li>
<li>Navigate to the web portal
https://192.168.1.3:8006/
Accept the risk of the self-signed certificate
Sign into the root account with the above password</li>
<li>Accept that you don&rsquo;t have a valid subscription and decide to do something about it.</li>
<li>Followed the following directions to get rid of that message.
You didn&rsquo;t actually think I would pay for the license? Did you?</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>ssh root@192.168.1.3
</span></span></code></pre></div><ul>
<li>enter the super secret password</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cd /usr/share/javascript/proxmox-widget-toolkit
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>cp proxmoxlib.js proxmoxlib.js.bak
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>nano proxmoxlib.js
</span></span></code></pre></div><ul>
<li>Ctrl+W</li>
<li>&ldquo;if (false)&rdquo;</li>
<li>Enter</li>
<li>That will jump to the line we&rsquo;re looking for.</li>
<li>then replace</li>
</ul>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#a6e22e">Ext</span>.<span style="color:#a6e22e">Msg</span>.<span style="color:#a6e22e">show</span>({
</span></span><span style="display:flex;"><span> <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">gettext</span>(<span style="color:#e6db74">&#39;No valid subscription&#39;</span>),
</span></span></code></pre></div><p>with</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-javascript" data-lang="javascript"><span style="display:flex;"><span><span style="color:#66d9ef">void</span>({ <span style="color:#75715e">//Ext.Msg.show({
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span> <span style="color:#a6e22e">title</span><span style="color:#f92672">:</span> <span style="color:#a6e22e">gettext</span>(<span style="color:#e6db74">&#39;No valid subscription&#39;</span>),
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-zsh" data-lang="zsh"><span style="display:flex;"><span>systemctl restart pveproxy.service
</span></span></code></pre></div><p>Poof, no annoying message on sign in.</p>
<p>One last thing.</p>
<p>Edit &ldquo;/etc/systemd/logind.conf&rdquo;</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>#HandleLidSwitch=suspend
</span></span><span style="display:flex;"><span>#HandleLidSwitchExternalPower=suspend
</span></span><span style="display:flex;"><span>#HandleLidSwitchDocked=suspend
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-txt" data-lang="txt"><span style="display:flex;"><span>HandleLidSwitch=ignore
</span></span><span style="display:flex;"><span>HandleLidSwitchExternalPower=ignore
</span></span><span style="display:flex;"><span>HandleLidSwitchDocked=ignore
</span></span></code></pre></div><p>This ensures the Proxmox environment remains available when the laptop lid is closed.</p>
<br><br><hr>
<div id="footer">
    <p>@2025&nbsp;&nbsp;</p>
    
    <p><a href="mailto:jwcarlson.tech@gmail.com">jwcarlson.tech@gmail.com</a>&nbsp;</p>
    
    <span id="footerLinks">
        <p><a href="https://www.linkedin.com/in/joseph-carlson-it/" target='_blank'>LinkedIn</a>&nbsp;&nbsp;</p><p><a href="/documents/resume.pdf" target="_blank">Resume</a>&nbsp;&nbsp;</p></span>
</div></div>
        </div>
    </body>
</html>

